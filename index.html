<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Chat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#111;color:#eee;margin:0}
.message-row{display:flex;align-items:flex-end;margin:6px}
.message-row.my{justify-content:flex-end}
.message-avatar{font-size:24px;margin:0 6px}
.modal-overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:#0008}
.modal-overlay.active{display:flex}
.modal{background:#1c1c1c;padding:16px;border-radius:12px}
.avatar-picker-grid{display:grid;grid-template-columns:repeat(5,48px);gap:12px;font-size:26px}
.avatar-picker-grid span{cursor:pointer;text-align:center}
</style>
</head>
<body>

<button id="changeAvatarBtn">Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€</button>
<div id="chat"></div>

<div class="modal-overlay" id="avatarPickerModal">
 <div class="modal">
  <div class="avatar-picker-grid">
   <span>ğŸ˜€</span><span>ğŸ˜</span><span>ğŸ¥°</span><span>ğŸ˜ˆ</span><span>ğŸ‘»</span>
   <span>ğŸ¤¡</span><span>ğŸ±</span><span>ğŸ¶</span><span>ğŸ¦Š</span><span>ğŸ¼</span>
  </div>
 </div>
</div>

<script>
const AVATARS=['ğŸ˜€','ğŸ˜','ğŸ¥°','ğŸ˜ˆ','ğŸ‘»','ğŸ¤¡','ğŸ±','ğŸ¶','ğŸ¦Š','ğŸ¼'];
let avatar=AVATARS[Math.floor(Math.random()*AVATARS.length)];

function openAvatarPicker(){document.getElementById('avatarPickerModal').classList.add('active')}
function closeAvatarPicker(){document.getElementById('avatarPickerModal').classList.remove('active')}

document.getElementById('changeAvatarBtn').onclick=openAvatarPicker;
document.querySelectorAll('.avatar-picker-grid span').forEach(s=>{
 s.onclick=()=>{avatar=s.textContent;closeAvatarPicker();addMsg('ĞĞ²Ğ°Ñ‚Ğ°Ñ€ ÑĞ¼ĞµĞ½Ñ‘Ğ½')}
});

function addMsg(t){
 const row=document.createElement('div');
 row.className='message-row';
 const av=document.createElement('div');
 av.className='message-avatar';
 av.textContent=avatar;
 const m=document.createElement('div');
 m.textContent=t;
 row.append(av,m);
 document.getElementById('chat').append(row);
}
</script>

</body>
</html>